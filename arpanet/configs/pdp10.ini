; SIMH PDP-10 KS Configuration - TOPS-20 V4.1
; Phase 2 / Phase 3: Second ARPANET host for file transfer testing
;
; This PDP-10 connects to IMP #2 via HI1 (UDP 2000)

set debug stdout

; Configure CPU (pdp10-ks defaults are fine for TOPS-20)
; Note: pdp10-ks doesn't have "tops20v41" parameter, uses defaults
set console wru=034

; Disable unused devices for minimal config
set dz disabled
set lp20 disabled

; Configure tape drive (TUA) for installation/distribution media
set tua enable
set tua0 locked
attach tua0 /machines/pdp10/tops20_v41.tap

; Configure disk drive (RPA = RP06) for system disk
set rpa enable
set rpa0 rp06
attach rpa0 /machines/data/tops20.dsk

; IMP Network Interface for ARPANET connection to IMP #2
; This is the PDP-10's network interface that connects to IMP #2 HI1
set imp enabled
set imp debug
; Attach to local UDP 2000, connect to IMP #2 at 172.20.0.30:2000
attach -u imp 2000:172.20.0.30:2000

; Telnet console on port 2323
set console telnet=2323

echo PDP-10 TOPS-20 V4.1 starting...
echo IMP network interface: 172.20.0.40:2000 <-> IMP #2 at 172.20.0.30:2000
echo Telnet console on port 2323
echo Installation tape: tops20_v41.tap on TUA0
echo System disk: /machines/data/tops20.dsk on RPA0
echo
echo Booting from installation tape...
echo Connect via: telnet localhost 2326
echo

; Boot from installation tape
; SIMH will wait for console connection before proceeding
boot tua0
