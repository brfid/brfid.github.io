; SIMH VAX/BSD Configuration for ARPANET Integration
; This configuration enables networking on the VAX and connects it to an IMP
;
; Based on the jguillaumes/simh-vaxbsd image default config
; Enhanced with DEC Ethernet (DEUNA) for IMP connectivity

; Load the base system
load /usr/local/lib/simh/VAX/ka780_bin.bin

; CPU and memory configuration
set cpu 64m
set cpu idle=vms

; Enable and attach console
set console telnet=2323

; DEC RL02 disk drives (system disks from base image)
set rl0 rl02
attach rl0 /usr/local/lib/simh/VAX/rl02.1.vax.dsk
set rl1 rl02
attach rl1 /usr/local/lib/simh/VAX/rl02.2.vax.dsk

; TU58 tape cartridge
set tu enabled
attach tu /usr/local/lib/simh/VAX/tu58.dat

; TS11 tape drive for file transfer to/from host
set ts enabled
; Note: inputs.tap will be attached dynamically by vax_stage.py if present
; attach ts0 /machines/inputs.tap

; DEC Ethernet (DEUNA) - Connection to ARPANET IMP
; The XU device provides Ethernet connectivity
set xu enabled
set xu mac=08:00:2b:cc:dd:ee

; Attach to UDP port for IMP communication
; Format: attach xu <localport>:<remotehost>:<remoteport>/udp
; This connects to IMP #1 at 172.20.0.20:2000
attach xu 2000:172.20.0.20:2000/udp

; Enable IMP device (if available in this SIMH build)
; The IMP device was part of 4.3BSD for direct ARPANET connectivity
; set imp enabled
; attach imp 172.20.0.20:2000

; Boot the system
; The VAX will boot from RL0 and start 4.3BSD
boot cpu
