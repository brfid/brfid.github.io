; KLH10 Panda TOPS-20 Configuration
; Based on Panda distribution defaults with Docker networking (172.20.0.40)
; TCP/IP via dpni20 driver (no ARPANET 1822 needed)

; Define basic device config - one DTE, one disk, one tape
devdef dte0 200   dte	master
devdef rh0  540   rh20
devdef rh1  544   rh20
devdef dsk0 rh0.0 rp	type=rp07 format=dbd9
devdef mta0 rh1.0 tm03	type=tu45

; Mount disk image
; KLH10 command is "devmount" (not "mount")
devmount dsk0 RH20.RP07.1

; Set Ethernet address (Docker network: 172.20.0.40)
devdef ni0 564 ni20 ipaddr=172.20.0.40

; Define the idle device on 700
devdef idler 700 host

; Set switch register
set sw=254200,,147

; Load disk bootstrap directly
load boot.sav

; Start the emulator
go
