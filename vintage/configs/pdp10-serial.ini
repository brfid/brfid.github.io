; SIMH PDP-10 KS Configuration - Serial Tunnel Mode
; Phase 1: Direct serial connection to VAX via socat tunnel
;
; This PDP-10 is configured for serial console access only.
; No IMP or network - just serial tunnel for Phase 1 validation.

set debug stdout

; Configure CPU
set console wru=034

; Enable DL11 serial port for serial tunnel
set dl11 enable
set dl11a line=1

; Disable unused devices
set dz disabled
set lp20 disabled
set imp disabled

; Configure tape drive (TUA) for installation media
set tua enable
set tua0 locked
attach tua0 /machines/pdp10/tops20_v41.tap

; Configure disk drive (RPA = RP06) for system disk
set rpa enable
set rpa0 rp06
attach rpa0 /machines/data/tops20.dsk

; Telnet console on port 2326 (for socat tunnel)
set console telnet=2326

echo.
echo PDP-10 TOPS-20 V4.1 starting (Serial Tunnel Mode)...
echo Console: telnet localhost 2326
echo Installation tape: tops20_v41.tap on TUA0
echo System disk: /machines/data/tops20.dsk on RPA0
echo.
echo For serial tunnel:
echo   socat TCP-LISTEN:9001,fork TCP:localhost:2326 &
echo Then connect: telnet localhost 9001
echo.

; Boot from installation tape
boot tua0
